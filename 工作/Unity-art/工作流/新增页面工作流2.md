##【目标】

* 新产出的页面性能无问题
* 页面布局结构合理，脚本和节点使用合理，95%产出的页面布局合理
* 新产出的页面处理UI代码质量会比较好

---



##【场景】

* 角色：DEV
* 当需要新创建一个新页面，触发工作流，直到新页面关于UI功能编码结束

---



##【流程】

1. 页面需求分析（UI需求，交互需求，数据来源需求，打点需求）
3. 创建（创建页面Prefab，页面对应Component）
4. 布局（Prefab 构建过程）参考 《UI案例库》
5. 布局Review（Prefab 布局合理检查，挂载脚本合理检查）
6. 逻辑代码 （页面交互，动画，页面刷新）
7. 测试 

各流程说明

####【页面需求分析】

- [ ] 通过需求文档和设计师出的UI，分析出实际需求和隐藏需求，输出UI上要做哪些事情（可以自己列出来，也可以写在设计文档中）
- [ ] 页面性能分析，在设计文档中输出理论值
- [ ] 网图资源是否有一部分需要放本地，根据《UI案例库 - 图片使用案例》输出怎么放、放多少

####【布局】

- [ ] 根据《UI案例库 - UI框架 》使用UI框架构造新页面
- [ ] 资源引用，根据《UI案例库 - 资源引用》决定资源使用代码还是拖拽
- [ ] 根据《UI案例库 - 布局规范》并根据难易程度在设计文档中输出布局划分
- [ ] Pad适配
- [ ] 异形屏适配

####【布局Review】

- [ ] 检查资源引用是否正确，有没有不需要的资源被引用
- [ ] 根据《UI案例库 - 布局规范》检查布局树是否含有冗余节点，并删除
- [ ] 检查节点上挂在的Component是否合适
- [ ] Draw call 大于50，找leader一起优化
- [ ] 多语言检查
- [ ] 适配检查 《 [045-Art页面适配方法论.md](045-Art页面适配方法论.md) 》

####【逻辑代码】

- [ ] 根据《[D02_如何评价模块好坏](https://wiki.atcloudbox.com/pages/viewpage.action?pageId=29168857)》组织代码
- [ ] 数据更新后UI重刷

####【测试】

- [ ] 根据性能分析，测试实际性能，看和理论性能的差异和优化成本
- [ ] 多语言测试

---



##【决策点】

### 如何做适配

* 思考维度：
  * 我们的产品有pad适配，需要考虑不做Pad适配的UI在Pad上显示是否正常
  * pad适配会在原有的UI基础工作量上增加比较大对，布局方式需要调整，UI变动可能较大，需要多设备测试
  * 普通手机适配也需要考察特别长和特别宽的手机
  * pad一般展示更多内容，对性能也会提出更高要求
  * 刘海屏适配，头顶超出去的部分经常需要特意设计，不然非常难看
* 角色：Dev， 设计师，测试
* 方法论：根据 《[045-Art页面适配方法论.md](045-Art页面适配方法论.md) 》页面适配
* 输入：页面需求，设计师页面设计
* 输出：设计文档 - 页面基本适配设计文档（不必须）

### 如何做性能分析与检测

* 思考维度
  * 页面性能的一些关键指标可以通过事先计算出来的，所以在做得时候可以逼近这个理论值
  * 理论性能和实际产出会有一些权衡，权衡困难或者比较难实现的时候找 zongjiang.ji 和leader讨论
  * 理论性能有时候有些难计算，可以找zongjiang.ji 和 leader讨论
* 方法论：参考《UI性能评估和以及优化》方法论，做好事先评估，做完后测试
  * draw call ，over draw，资源加载速度
* 输入：设计师给的设计图以及完成后的app
* 输出：设计文档 - 理论性能数据和实际性能数据

### 如何判定和处理复杂页面

* 关键决策：是否需要讨论
* 思考维度：
  1. 复杂的UI和代码一样，也需要花时间和精力写好。
  2. 感觉比较复杂的时候，可以找 zongjiang.ji 和 leader 讨论
* 输入：页面需求分析结果
* 输出：页面是否复杂切需要讨论，以及是否有必要在设计文档中描述页面布局

### 界面是否需要Review

* 思考维度：布局在git上不好Review，有些看似简单的修改可能对性能等有影响。
* 输入：页面修改、新增是否要Review
* 输入：页面Review或者不Review

----



##【资产管理】

| 产出                                                         | 位置                                                         | 工具 | 权限 |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ---- | ---- |
| 所有的产出放入设计文档                                       | 需求开发设计文档-页面设计                                    | wiki | dev  |
| 图片/Prefab/.cs 等文件参考[D06_工程文件管理](https://wiki.atcloudbox.com/pages/viewpage.action?pageId=29167686&src=contextnavpagetreemode) | [D06_工程文件管理](https://wiki.atcloudbox.com/pages/viewpage.action?pageId=29167686&src=contextnavpagetreemode) | git  | Dev  |



## 【参考资料】

* 性能分析方法论
* [045-Art页面适配方法论](045-Art页面适配方法论.md)
*  [UI案例库.md](UI案例库.md)
* [D06_工程文件管理](https://wiki.atcloudbox.com/pages/viewpage.action?pageId=29167686&src=contextnavpagetreemode)
