# 测试方法论

## 测试目标

确保程序质量，要抱着挑错的心态去测试

## 流程测试
* 全路径覆盖
  * 写完代码后需要列出每个if 和else 并对每个 if else 进行测试
* 启动测试
   * 冷启动测试
     * 把应用从任务栏杀死后重新启动
     * 用Android studio Logcat 下 侧边红色按钮杀死程序后重新启动
   
   尤其是第二种杀死程序方式需要在各个界面都进行测试， 查看是否会出现Android尝试启动上次保存的界面但是crash了的。
   * 热启动测试
    
   按home 键或者back键，让程序进入后台，然后通过任务列表或者通知恢复程序，在各个界面都进行热启动测试，查看启动后是否和预期相同。
* 多线程测试

  如果支持多线程操作的模块，程序必须写好多线程操作的测试代码，且多个线程需要交叉，比如一个线程sleep等。,并有可查看的结果。
*  UI测试
   * 多机型适配测试 ：
   
   分别拿一个分辨率高的大屏手机和一个分辨率低的小屏手机看各个界面。查看界面大小是否一致，是否图片模糊等
   * 按钮快速连点测试
   
      比如做完胜利后，在比较慢的手机上快速连续点击胜利后的跳转按钮，查看是否会出现两个胜利后的界面，或者奖励获得多个。
   
   * 动画测试
       * 重播动画 ：如果动画是重新开始播放的，进行多次播放动画流程，查看重播动画是否从头开始，是否进行多次播放后出现卡顿。
       * 重入动画 ：动画播放是从暂定出开始播放的比如动画界面出现了广告，等广告结束了回到游戏界面，是否继续开始播放。

* 配置测试
   * config ： 不配置和配置测试
   
     1. 在 config中的配置，必须确保有默认值，需要删除config中的配置检查程序是否正确，与预期的默认值相同
     2. 要修改所有config取值的可能性并进行检查。
    
    
   * 游戏配置 ： 数据修改测试
       
       比如游戏中关卡数据，修改某一关的数据看是否和预期的一致。
      1. 更改配置后需要检查升级用户表现。要检查出用户升级后旧关卡数据保留对更新后的影响是否符合预期。
   * 资源 ： 资源丢失测试
       
       比如某个关卡的展示图丢失，是否会发生展示出了别的关卡的图片，或者直接崩溃. 
* 异步测试

   异步测试需要测试异步回调的时间，比如特别长和特别短。
   比如等待autopilot回来的延时操作，如果时间设置到几小时后发现不管怎么样都等不到autopilot 的回调，那么autopilot肯定有问题。

## 性能测试

* 流畅度测试
  测试标准 ： 50帧以上流程，40~50有卡顿， 30~40 卡顿
  * GT测试
  * SMUtils测试 
  
  上面两个测试方法都可以得到当前的丢帧率，主要界面游戏过程中总是出现有卡顿或者卡顿，则必须修改。
  应用启动时间过长， 需要查明哪些部分耗时过长，比如发现golden eye 总是在启动的时候在主线程耗时1.5s 到2s之间。则必须及时反馈。
* 耗电测试
  耗电标准 ： 暂定
* 流量测试
  标准 ： 暂定
* 发热测试
  标准 : 暂定
* 内存测试
  * 联网和断网
  * 不播放广告和个播放5个全屏和reward广告
  * 开启banner 和不开启banner。
  * 最高峰值是多少。

## 测试报告模板

* 测试时间 2018.09.08
* 测试机型 红米note3 Android012 , 如果是公司机器，尽量写清楚是哪台机器和编号。
* 测试commit 号 ： 78d342097cd639290a121c2f544d503ca3612bfa
* 本地修改 ：打开了 DataTest.init();
* 测试项 ： 耗电测试， 动画测试
* 测试结果 :1分钟耗电 100mA。  耗电在新功能下有明显增加，需要修改。 动画重新进入测试内存无变化， 动画1 播放正确 动画2 播放正确 。。。。。